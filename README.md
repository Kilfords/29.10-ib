Домашнее задание к занятию "«Домашнее задание к занятию «Docker. Часть 2»»" - Боковиков Илья студента
Инструкция по выполнению домашнего задания

    Сделайте fork данного репозитория к себе в Github и переименуйте его по названию или номеру занятия, например, https://github.com/имя-вашего-репозитория/git-hw или https://github.com/имя-вашего-репозитория/7-1-ansible-hw).
    Выполните клонирование данного репозитория к себе на ПК с помощью команды git clone.
    Выполните домашнее задание и заполните у себя локально этот файл README.md:
        впишите вверху название занятия и вашу фамилию и имя
        в каждом задании добавьте решение в требуемом виде (текст/код/скриншоты/ссылка)
        для корректного добавления скриншотов воспользуйтесь инструкцией "Как вставить скриншот в шаблон с решением
        при оформлении используйте возможности языка разметки md (коротко об этом можно посмотреть в инструкции по MarkDown)
    После завершения работы над домашним заданием сделайте коммит (git commit -m "comment") и отправьте его на Github (git push origin);
    Для проверки домашнего задания преподавателем в личном кабинете прикрепите и отправьте ссылку на решение в виде md-файла в вашем Github.
    Любые вопросы по выполнению заданий спрашивайте в чате учебной группы и/или в разделе “Вопросы по заданию” в личном кабинете.

Задание 1

Напишите ответ в свободной форме, не больше одного абзаца текста.
Docker Compose — это инструмент, который позволяет запускать и управлять несколькими контейнерами Docker как одним приложением с помощью простого YAML-файла. Он нужен, чтобы не возиться с кучей docker run команд и вручную не связывать контейнеры — всё описывается один раз и запускается командой docker compose up. В моей жизни это упростит работу с учебными и рабочими проектами: например, я смогу поднять веб-сервер, базу данных и Redis за пару секунд, без танцев с конфигурациями — удобно, чисто и по-сисадмински красиво.

Установите Docker Compose и опишите, для чего он нужен и как может улучшить лично вашу жизнь.

Задание 2
Выполните действия и приложите текст конфига на этом этапе.
Создайте файл docker-compose.yml и внесите туда первичные настройки:

    version;
    services;
    volumes;
    networks.

При выполнении задания используйте подсеть 10.5.0.0/16. Ваша подсеть должна называться: <ваши фамилия и инициалы>-my-netology-hw. Все приложения из последующих заданий должны находиться в этой конфигурации.
![Задание 2](/img/База.jpg)

Задание 3

Выполните действия:

    Создайте конфигурацию docker-compose для Prometheus с именем контейнера <ваши фамилия и инициалы>-netology-prometheus.
    Добавьте необходимые тома с данными и конфигурацией (конфигурация лежит в репозитории в директории 6-04/prometheus ).
    Обеспечьте внешний доступ к порту 9090 c докер-сервера.
![prometheus](/img/Prometheus.jpg)


Задание 4

Выполните действия:

    Создайте конфигурацию docker-compose для Pushgateway с именем контейнера <ваши фамилия и инициалы>-netology-pushgateway.
    Обеспечьте внешний доступ к порту 9091 c докер-сервера.
![pushgateway](/img/pushgateway.jpg)

Задание 5

Выполните действия:

    Создайте конфигурацию docker-compose для Grafana с именем контейнера <ваши фамилия и инициалы>-netology-grafana.
    Добавьте необходимые тома с данными и конфигурацией (конфигурация лежит в репозитории в директории 6-04/grafana.
    Добавьте переменную окружения с путем до файла с кастомными настройками (должен быть в томе), в самом файле пропишите логин=<ваши фамилия и инициалы> пароль=netology.
    Обеспечьте внешний доступ к порту 3000 c порта 80 докер-сервера.
![grafana](/img/grafana.jpg)

Задание 6

Выполните действия.

    Настройте поочередность запуска контейнеров.
    Настройте режимы перезапуска для контейнеров.
    Настройте использование контейнерами одной сети.
    Запустите сценарий в detached режиме.
![up](/img/status%20up.jpg)

Задание 7

Выполните действия.

    Выполните запрос в Pushgateway для помещения метрики <ваши фамилия и инициалы> со значением 5 в Prometheus: echo "<ваши фамилия и инициалы> 5" | curl --data-binary @- http://localhost:9091/metrics/job/netology.
    Залогиньтесь в Grafana с помощью логина и пароля из предыдущего задания.
    Cоздайте Data Source Prometheus (Home -> Connections -> Data sources -> Add data source -> Prometheus -> указать "Prometheus server URL = http://prometheus:9090" -> Save & Test).
    Создайте график на основе добавленной в пункте 5 метрики (Build a dashboard -> Add visualization -> Prometheus -> Select metric -> Metric explorer -> <ваши фамилия и инициалы -> Apply.
![grafana2](/img/grafana2.jpg)


В качестве решения приложите:

    docker-compose.yml целиком;
    скриншот команды docker ps после запуске docker-compose.yml;
    скриншот графика, постоенного на основе вашей метрики.
![all](/img/all.jpg)


Задание 8

Выполните действия:

    Остановите и удалите все контейнеры одной командой.

В качестве решения приложите скриншот консоли с проделанными действиями.
![down](/img/down.jpg)